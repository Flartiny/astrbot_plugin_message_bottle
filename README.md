# 漂流瓶 - 瓶中信 💌

**一款功能丰富的漂流瓶插件，让你在自己的服务器内或跨越服务器的云端海洋中，投递和拾取瓶中信，体验未知的惊喜与相遇。**

### 核心功能

-   **🌐 双重模式**：支持**纯本地的漂流瓶**和**跨服互动的云漂流瓶**两种玩法。
-   **✍️ 内容丰富**：漂流瓶可以包含文字，还可以附带图片。未来支持更多形式，让分享更加生动。
-   **📤 投瓶与拾瓶**：轻松扔出自己的漂流瓶，或随机捡起一个来自他人的瓶子。
-   **📊 数据统计**：随时查看当前海域（本地及云端）中未被捡起的漂流瓶数量，以及自己捡到的瓶子总数。
-   **📖 历史追溯**：可以查看自己捡到过的所有漂流瓶，通过编号精确查找。

### 指令说明

所有指令均通过斜杠 (`/`) 触发。

| 指令 | 功能描述 |
| :--- | :--- |
| **本地漂流瓶** | |
| `/扔漂流瓶 [内容]` | 扔出一个 **本地** 漂流瓶，仅在当前服务器内可被捡到。 |
| `/捡漂流瓶` | 随机捡一个 **本地** 海域中的漂流瓶。 |
| **云端漂流瓶** | |
| `/扔云漂流瓶 [内容]` | 扔出一个 **云端** 漂流瓶，可被其他接入云服务的社区用户捡到。 |
| `/捡云漂流瓶` | 随机捡一个来自 **云端** 的漂流瓶，开启跨服奇遇。 |
| **通用指令** | |
| `/未被捡起的漂流瓶` | 查看当前本地和云端海域中漂流瓶的总数，以及自己捡到的数量。 |
| `/被捡起的漂流瓶 [编号]` | 查看一个你已捡到的漂流瓶。若提供编号，则精确查找；若不提供，则随机展示一个。 |
| `/被捡起的漂流瓶列表` | 列出你捡到的所有漂流瓶的历史记录。 |

---

### ⚙️ 配置选项

插件支持通过配置文件进行自定义，以下是可配置项说明：

| 配置项 | 类型 | 默认值 | 描述 |
| :--- | :--- | :--- | :--- |
| `max_text_length` | `int` | `500` | 漂流瓶允许发送的文字内容最大长度。 |
| `max_images` | `int` | `1` | 每个漂流瓶允许附带的最大图片数量。 |
| `api_base_url` | `string` | 安装插件后可见 | 用于云漂流瓶功能的API服务器地址。 |

### 提示

- 云漂流瓶功能依赖于外部API服务器，如果API服务器无法访问，将无法使用云漂流瓶功能。
- 如果您只期望漂流瓶在自己的bot内共享，那么仅使用本地漂流瓶功能可能已经足够，但仍然强烈建议您使用云漂流瓶功能（更健全的检索和存储机制）。
- API服务器默认为本人提供的接口，以期为用户提供便利并实现广泛的互通。
- 如需要使用自己的API服务器，请参考 [API 服务器](https://github.com/Flartiny/astrbot-driftbottles-api) 部分，并修改配置文件中的 `api_base_url`。这适用于为多个不同服务器下的bot提供数据互通。

### ❤️ 作者与支持

- **作者**: [@Flartiny](https://github.com/Flartiny)
- **致谢**: 本项目由[@wuyan1003](https://github.com/wuyan1003)的[漂流瓶插件](https://github.com/wuyan1003/astrbot_plugin_drift_bottle)fork而来，进行了本体的重构并改变了上游服务器的实现。
